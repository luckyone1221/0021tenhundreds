var GSF_SelectizeClass=function(e){this.$container=e};(function(n){"use strict";GSF_SelectizeClass.prototype={init:function(){var e=this,i=e.$container.find(".gsf-selectize"),a={plugins:["remove_button"],onInitialize:function(){e.onChange(this)},onChange:function(){e.onChange(this)}};if(!i.attr("multiple")){if(i.data("allow-clear")){a.allowEmptyOption=true;a.onItemAdd=function(){e.addRemoveButton(this)};a.onItemRemove=function(){e.addRemoveButton(this)}}}if(i.data("tags")){a.create=true;a.persist=false}if(i.data("drag")){a.plugins[1]="drag_drop"}i.find("option.empty-select").remove();setTimeout(function(){var e=i.selectize(a);var t=e[0].selectize;var n=i.data("value");if(typeof n!=="undefined"){t.setValue(n)}i.data("field-no-change",false);i.data("field-set-value",false)},1)},onChange:function(e){var t=this,n=t.$container.find(".gsf-selectize"),i=t.$container.find(".gsf-selectize-edit-link"),a=t.$container.find(".gsf-selectize-create-link"),o=n.val(),l=t.$container.find(".selectize-control");if(i.length){if(l.find(".gsf-selectize-edit-link").length==0){i.detach().appendTo(l)}if(o===""||o==="inherit"){i.hide()}else{i.show();var s=i.data("link");s=s.replace("{{value}}",o);i.attr("href",s)}}if(a.length){if(l.find(".gsf-selectize-create-link").length==0){a.detach().appendTo(l)}}},addRemoveButton:function(e){if(e.getValue()!=""){if(e.$control.find(".selectize-remove").length==0){e.$control.append('<span class="selectize-remove dashicons dashicons dashicons-no-alt"></span>');var t=e;n(".selectize-remove",e.$control).on("click",function(){t.setValue("")})}}else{n(".selectize-remove",this.$control).remove()}},getValue:function(){return this.$container.find("[data-field-control]").val()}}})(jQuery);