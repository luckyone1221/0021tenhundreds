var GSF_Select_popupClass=function(t){this.$container=t};(function(a){"use strict";GSF_Select_popupClass.prototype={_$popup:[],init:function(){var n=this,o=wp.template("gsf-select-popup");n.$container.find(".gsf-field-select_popup-info > .info-select").on("click",function(){a("#gsf-popup-select-wrapper").remove();var t=a(this).data("items");if(!t){t=1}var e=o({options:a(this).data("options"),items:t,popup_width:a(this).data("popup-width"),title:a(this).data("title")});var i=a(e),p=i.find(".gsf-popup-select-listing");a("body").append(i);n._$popup=i;p.perfectScrollbar({wheelSpeed:.5,suppressScrollX:true});i.find(".gsf-popup-select-item").on("click",function(){var t=a(this),e=t.find("img");if(!t.hasClass("active")){n.$container.find("input[data-field-control]").val(t.data("value"));n.$container.find(".gsf-field-select_popup-preview").attr("src",e.data("thumb"));n.$container.find(".gsf-field-select_popup-info > .info-name").text(e.attr("alt"));n.$container.find("input[data-field-control]").trigger("change")}n._$popup.find(".mfp-close").trigger("click")});n.open(n,n.$container.find("input[data-field-control]").val())})},getValue:function(){return this.$container.find("[data-field-control]").val()},open:function(t,e){a.magnificPopup.open({items:{src:"#gsf-popup-select-wrapper",type:"inline"},mainClass:"mfp-move-horizontal",callbacks:{beforeOpen:function(){t._$popup.find('.gsf-popup-select-item[data-value="'+e+'"]').addClass("active")},open:function(){}},openDelay:0,removalDelay:100,midClick:true})}}})(jQuery);