var GSF_TypographyClass=function(n){this.$container=n};(function(o){"use strict";GSF_TypographyClass.prototype={init:function(){this.fontSizeChange();this.fontFamilyChange();this.variantChange();this.colorField()},fontSizeChange:function(){var a=this;this.$container.find(".gsf-typography-size-value,.gsf-typography-size-unit").on("change",function(){var n=a.$container.find(".gsf-typography-size-value"),i=a.$container.find(".gsf-typography-size-unit"),t=a.$container.find(".gsf-typography-size");if(n.val()!=""){t.val(n.val()+""+i.val())}a.changeField()})},fontFamilyChange:function(){var n=this;this.$container.find(".gsf-typography-font-family").on("change",function(){n.bindFontVariants();n.$container.find(".gsf-typography-variants").trigger("change")})},variantChange:function(){var i=this;this.$container.find(".gsf-typography-variants").on("change",function(){var n=o(this).val();if(n.indexOf("italic")!=-1){i.$container.find(".gsf-typography-style").val("italic")}else{i.$container.find(".gsf-typography-style").val("")}n=n.replace("italic","");i.$container.find(".gsf-typography-weight").val(n);i.changeField()})},bindFontVariants:function(){var n=this.$container.find(".gsf-typography-font-family"),i=n.val(),t={},a;for(a in GSF_TYPOGRAPHY_META_DATA.activeFonts){if(GSF_TYPOGRAPHY_META_DATA.activeFonts[a].family==i){t=GSF_TYPOGRAPHY_META_DATA.activeFonts[a];break}}var o="";if(t.variants!=null){for(a in t.variants){o+='<option value="'+t.variants[a]+'">'+t.variants[a]+"</option>"}}this.$container.find(".gsf-typography-variants").html(o)},changeField:function(){this.$container.find(".gsf-typography-font-family").trigger("gsf_field_control_changed")},getValue:function(){var a={};this.$container.find("[data-field-control]").each(function(){var n=o(this),i=n.attr("name"),t=i.replace(/^(.*)(\[)([^\]]*)(\])*$/g,function(n,i,t,a,o){return a});a[t]=n.val()});return a},colorField:function(){var n=this;var i=o.extend({change:function(){setTimeout(function(){n.changeField()},50)},clear:function(){setTimeout(function(){n.changeField()},50)}});if(o().wpColorPicker){this.$container.find(".gsf-typography-color").wpColorPicker(i)}}}})(jQuery);