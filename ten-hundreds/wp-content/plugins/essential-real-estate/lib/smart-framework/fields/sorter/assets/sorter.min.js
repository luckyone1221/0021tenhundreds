var GSF_SorterClass=function(t){this.$container=t};(function(a){"use strict";GSF_SorterClass.prototype={init:function(){var n=this,t=this.$container.find(".gsf-field-sorter-group");t.sortable({placeholder:"gsf-sorter-sortable-placeholder",items:".gsf-field-sorter-item",connectWith:a(".gsf-field-sorter-group",this.$container),update:function(t,r){var e=a(t.target),f=e.data("group");e.find("[data-field-control]").each(function(){var t=a(this),r=t.attr("name");r=r.replace(/^(.*)(\[)([^\]]*)(\])(\[)([^\]]*)(\])*$/g,function(t,r,e,n,i,a,o,c){return r+e+f+i+a+o+c});t.prop("name",r)});n.$container.find("[data-field-control]").first().trigger("gsf_field_control_changed")}})},getValue:function(){var i={};this.$container.find(".gsf-field-sorter-group").each(function(){var t=a(this),n=t.data("group");i[n]={};t.find("[data-field-control]").each(function(){var t=a(this),r=t.attr("name"),e=r.replace(/^(.*)(\[)([^\]]*)(\])*$/g,function(t,r,e,n,i){return n});i[n][e]=t.val()})});return i}}})(jQuery);